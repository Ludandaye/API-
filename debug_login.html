<!DOCTYPE html>
<html>
<head>
    <title>调试登录</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>调试登录页面</h1>
    <form id="loginForm">
        <input type="text" id="username" placeholder="用户名" value="admin"><br>
        <input type="password" id="password" placeholder="密码" value="admin123"><br>
        <button type="submit">登录</button>
    </form>
    <div id="result"></div>

    <script>
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = {
            username: document.getElementById('username').value,
            password: document.getElementById('password').value
        };
        
        console.log('发送数据:', formData);
        
        fetch('/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        })
        .then(response => {
            console.log('响应状态:', response.status);
            return response.json();
        })
        .then(data => {
            console.log('响应数据:', data);
            document.getElementById('result').innerHTML = JSON.stringify(data, null, 2);
        })
        .catch(error => {
            console.error('错误:', error);
            document.getElementById('result').innerHTML = '错误: ' + error.message;
        });
    });
    </script>
</body>
</html> 